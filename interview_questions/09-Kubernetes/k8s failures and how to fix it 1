Here are 5 common k8s failures and how to fix them ğŸ› ï¸

ğŸ­) ğ—œğ—ºğ—®ğ—´ğ—²-ğ—½ğ˜‚ğ—¹ğ—¹ ğ—¯ğ—®ğ—°ğ—¸ ğ—¼ğ—³ğ—³ ~  Check for ğ™„ğ™¢ğ™–ğ™œğ™š ğ™¥ğ™ªğ™¡ğ™¡ ğ™¥ğ™¤ğ™¡ğ™ğ™˜ğ™® , ğ™¥ğ™šğ™§ğ™¢ğ™ğ™¨ğ™¨ğ™ğ™¤ğ™£ ğ™©ğ™¤ ğ™¥ğ™ªğ™¡ğ™¡ ğ™›ğ™§ğ™¤ğ™¢ ğ™§ğ™šğ™¥ğ™¤ğ™¨ğ™ğ™©ğ™¤ğ™§ğ™®,ğ™˜ğ™¤ğ™§ğ™§ğ™šğ™˜ğ™©       ğ™ğ™¢ğ™–ğ™œğ™š ğ™£ğ™–ğ™¢ğ™š ğ™–ğ™¡ğ™¤ğ™£ğ™œ ğ™¬ğ™ğ™©ğ™ ğ™©ğ™–ğ™œ.

ğ™ğ™¨ğ™šğ™›ğ™ªğ™¡ ğ™˜ğ™¤ğ™¢ğ™¢ğ™–ğ™£ğ™™ğ™¨ 
  Kubectl describe po <podname>
  Kubectl get po <podname>
  Kubectl apply -f <deployment file name>


2)  ğ˜¾ğ™§ğ™–ğ™¨ğ™-ğ™‡ğ™¤ğ™¤ğ™¥ ğ™—ğ™–ğ™˜ğ™  ğ™¤ğ™›ğ™›~ Check for ğ˜¾ğ™¤ğ™§ğ™§ğ™šğ™˜ğ™© ğ™ğ™¢ğ™–ğ™œğ™š ğ™£ğ™–ğ™¢ğ™š ğ™–ğ™¡ğ™¤ğ™£ğ™œ ğ™¬ğ™ğ™©ğ™ ğ™©ğ™–ğ™œ , ğ™šğ™£ğ™¤ğ™ªğ™œğ™ ğ™§ğ™šğ™¨ğ™¤ğ™ªğ™§ğ™˜ğ™š ğ™˜ğ™¤ğ™£ğ™¨ğ™©ğ™§ğ™–ğ™ğ™£ğ™©ğ™¨,ğ™¢ğ™ğ™¨ğ™˜ğ™¤ğ™£ğ™›ğ™ğ™œğ™ªğ™§ğ™–ğ™©ğ™ğ™¤ğ™£ ğ™¤ğ™› ğ™šğ™£ğ™«ğ™ğ™§ğ™¤ğ™£ğ™¢ğ™šğ™£ğ™© ğ™«ğ™–ğ™§ğ™ğ™–ğ™—ğ™¡ğ™šğ™¨ , ğ™–ğ™¥ğ™¥ğ™¡ğ™ğ™˜ğ™–ğ™©ğ™ğ™¤ğ™£ ğ™›ğ™–ğ™ğ™¡ğ™ªğ™§ğ™š ğ™—ğ™šğ™˜ğ™–ğ™ªğ™¨ğ™š ğ™¤ğ™› ( ğ™›ğ™–ğ™ğ™¡ ğ™©ğ™¤ ğ™—ğ™ªğ™ğ™¡ğ™™ ğ™Ÿğ™–ğ™§ ğ™›ğ™ğ™¡ğ™šğ™¨ , ğ™ğ™¨ğ™¨ğ™ªğ™šğ™¨ ğ™¬ğ™ğ™ğ™¡ğ™š ğ™—ğ™ªğ™ğ™¡ğ™™ğ™ğ™£ğ™œ ğ™™ğ™¤ğ™˜ğ™ ğ™šğ™§ ğ™ğ™¢ğ™–ğ™œğ™š.

ğ™ğ™¨ğ™šğ™›ğ™ªğ™¡ ğ™˜ğ™¤ğ™¢ğ™¢ğ™–ğ™£ğ™™ğ™¨  
  Kubectl describe po <podname>
  Kubectl logs <podname>
 Also to check if enough resources are allocated (memory) 


3) ğ™ğ™–ğ™ğ™¡ğ™ªğ™§ğ™š ğ™¬ğ™ğ™©ğ™ ğ™€ğ™­ğ™ğ™© ğ™˜ğ™¤ğ™™ğ™š 1~ Check for ğ˜¼ğ™¥ğ™¥ğ™¡ğ™ğ™˜ğ™–ğ™©ğ™ğ™¤ğ™£ ğ™˜ğ™¤ğ™™ğ™š ğ™˜ğ™§ğ™–ğ™¨ğ™ğ™šğ™¨ , ğ™ğ™£ğ™˜ğ™¤ğ™§ğ™§ğ™šğ™˜ğ™© ğ™šğ™£ğ™«ğ™ğ™§ğ™¤ğ™£ğ™¢ğ™šğ™£ğ™© ğ™«ğ™–ğ™§ğ™ğ™–ğ™—ğ™¡ğ™šğ™¨, ğ™ğ™£ğ™¨ğ™ªğ™›ğ™›ğ™ğ™˜ğ™ğ™šğ™£ğ™© ğ™›ğ™ğ™¡ğ™š ğ™¥ğ™šğ™§ğ™¢ğ™ğ™¨ğ™¨ğ™ğ™¤ğ™£ğ™¨.


ğ™ğ™¨ğ™šğ™›ğ™ªğ™¡ ğ™˜ğ™¤ğ™¢ğ™¢ğ™–ğ™£ğ™™ğ™¨  
  Kubectl logs <podname>
  Kubectl get po <podname>
  Kubectl apply -f <deployment file name>
Lookout for any exceptions in logs /missing variables at code level as well .


4) ğ™ğ™–ğ™ğ™¡ğ™ªğ™§ğ™š ğ™¬ğ™ğ™©ğ™ ğ™€ğ™­ğ™ğ™© ğ™˜ğ™¤ğ™™ğ™š125~ Check for  ğ™ğ™£ğ™˜ğ™¤ğ™§ğ™§ğ™šğ™˜ğ™© ğ™›ğ™ğ™¡ğ™š ğ™¥ğ™šğ™§ğ™¢ğ™ğ™¨ğ™¨ğ™ğ™¤ğ™£ğ™¨ , ğ™šğ™­ğ™˜ğ™šğ™¥ğ™©ğ™ğ™¤ğ™£ğ™¨ ğ™™ğ™ªğ™§ğ™ğ™£ğ™œ ğ™—ğ™¤ğ™¤ğ™©ğ™ğ™£ğ™œ ğ™ªğ™¥ ğ™¤ğ™› ğ™¥ğ™¤ğ™™

ğ™ğ™¨ğ™šğ™›ğ™ªğ™¡ ğ™˜ğ™¤ğ™¢ğ™¢ğ™–ğ™£ğ™™ğ™¨ 
  Kubectl logs <podname>
  Kubectl describe po <podname>

5) ğ™‹ğ™¤ğ™™/ğ™‰ğ™¤ğ™™ğ™š ğ™‰ğ™¤ğ™© ğ™ğ™šğ™–ğ™™ğ™® ~ Check for ğ™‰ğ™šğ™©ğ™¬ğ™¤ğ™§ğ™  ğ˜¾ğ™¤ğ™£ğ™£ğ™šğ™˜ğ™©ğ™ğ™«ğ™ğ™©ğ™® , ğ™šğ™£ğ™¤ğ™ªğ™œğ™ ğ™§ğ™šğ™¨ğ™¤ğ™ªğ™§ğ™˜ğ™š ğ™–ğ™¡ğ™¡ğ™¤ğ™˜ğ™–ğ™©ğ™ğ™¤ğ™£ ,ğ™ªğ™£ğ™ğ™šğ™–ğ™¡ğ™©ğ™ğ™® ğ™¥ğ™§ğ™¤ğ™˜ğ™šğ™¨ğ™¨ğ™šğ™¨

ğ™ğ™¨ğ™šğ™›ğ™ªğ™¡ ğ™˜ğ™¤ğ™¢ğ™¢ğ™–ğ™£ğ™™ğ™¨ 
  Kubectl logs <podname>
  Kubectl get po <podname> and check for its state 
Increase system resource usage

##Troubleshooting in Kubernetes## 
 25 Examples With Commands 

1. Error: Unable to connect to the cluster 
o Troubleshooting: 
â–ª Check kubeconfig file for correct cluster information. 
â–ª Verify network connectivity to the cluster. 
o Example Commands: 
kubectl config view 
kubectl cluster-info 

2. Error: Pod stuck in Pending state 
o Troubleshooting: 
â–ª Check events for the pod using kubectl describe pod. 
â–ª Inspect the pod's YAML for resource constraints or affinity 
issues. 
o Example Commands: 
kubectl describe pod <pod-name> 
kubectl get events --namespace <namespace> 

3. Error: Insufficient resources to schedule pod 
Troubleshooting: 
â–ª Check resource requests and limits in the pod specification. 
â–ª Verify node resources using kubectl describe node. 
o Example Commands: 
kubectl describe pod <pod-name> 
kubectl describe node <node-name> 

4. Error: ImagePullBackOff 
o Troubleshooting: 
â–ª Verify the image name and availability. 
â–ª Check image pull credentials using kubectl describe pod. 
o Example Commands: 
kubectl describe pod <pod-name> 
kubectl get pods --namespace <namespace> 
o=jsonpath='{.items[*].status.containerStatuses[*].state}' 

5. Error: CrashLoopBackOff 
o Troubleshooting: 
â–ª Check container logs for details on the crash. 
â–ª Inspect pod events using kubectl describe pod. 
o Example Commands: 
kubectl logs <pod-name> <container-name> 
kubectl describe pod <pod-name> 

6. Error: Unauthorized access 
o Troubleshooting: 
â–ª Verify RBAC permissions for the user. 
â–ª Check kubeconfig for correct credentials. 
o Example Commands: 
kubectl auth can-i --list 
kubectl config view 

7. Error: ConfigMap not updating in the pod 
o Troubleshooting: 
â–ª Check if the ConfigMap is updated. 
â–ª Verify that the pod is configured to use the latest version. 
Example Commands: 
kubectl get configmap <configmap-name> -o yaml 
kubectl describe pod <pod-name> 

8. Error: Service not reachable 
o Troubleshooting: 
â–ª Check service endpoints using kubectl describe service. 
â–ª Verify network policies and firewall rules. 
o Example Commands: 
kubectl describe service <service-name> 
kubectl get networkpolicies 

9. Error: Node not ready 
o Troubleshooting: 
â–ª Check node status with kubectl get nodes. 
â–ª Review kubelet logs on the node for issues. 
o Example Commands: 
kubectl get nodes 
kubectl describe node <node-name> 

10. Error: PersistentVolumeClaim (PVC) pending 
o Troubleshooting: 
â–ª Verify available storage in the cluster. 
â–ª Check storage class and provisioner. 
o Example Commands: 
kubectl get pvc 
kubectl describe storageclass 

11. Error: VolumeMounts not working in pod 
o Troubleshooting: 
â–ª Check pod's YAML for correct volume mounts. 
â–ª Verify if the volume exists and is accessible. 
o Example Commands: 
kubectl describe pod <pod-name> 
kubectl get pv 

12. Error: Pod Security Policies (PSP) blocking pod 
o Troubleshooting: 
â–ª Check PSP rules and RBAC for the pod. 
â–ª Inspect pod events using kubectl describe pod. 
o Example Commands: 
kubectl get psp 
kubectl describe pod <pod-name> 

13. Error: ServiceAccount permissions 
o Troubleshooting: 
â–ª Verify ServiceAccount permissions using kubectl auth can-i. 
â–ª Check RBAC roles and role bindings. 
o Example Commands: 
kubectl auth can-i --list -
as=system:serviceaccount:<namespace>:<serviceaccount-name> 
kubectl get roles,rolebindings --namespace <namespace> 

14. Error: NodeSelector not working 
o Troubleshooting: 
â–ª Check pod's YAML for correct node selector. 
â–ª Verify that nodes have the required labels. 
o Example Commands: 
kubectl describe pod <pod-name> 
kubectl get nodes --show-labels 

15. Error: Ingress not routing traffic 
o Troubleshooting: 
â–ª Check Ingress resource for correct backend services. 
â–ª Verify that the Ingress controller is running. 
o Example Commands: 
kubectl describe ingress <ingress-name> 
kubectl get pods --namespace <ingress-controller-namespace> 

16. Error: Unable to scale deployment 
o Troubleshooting: 
â–ª Verify available resources in the cluster. 
â–ª Check replica count in the deployment specification. 
o Example Commands: 
kubectl get deployments 
kubectl describe deployment <deployment-name> 

17. Error: Custom Resource Definition (CRD) not creating resources 
o Troubleshooting: 
â–ª Check CRD definition for correct syntax. 
â–ª Verify controller logs for errors. 
o Example Commands: 
kubectl get crd 
kubectl describe crd <crd-name> 

18. Error: Pod in Terminating state 
o Troubleshooting: 
â–ª Check for stuck finalizers in pod metadata. 
â–ª Force delete pod using kubectl delete pod --grace-period=0. 
o Example Commands: 
kubectl get pods --all-namespaces --field
selector=status.phase=Terminating 
kubectl delete pod <pod-name> --grace-period=0 â€“force 

19. Error: Resource quota exceeded 
o Troubleshooting: 
â–ª Check resource quotas for the namespace. 
â–ª Verify resource usage in the namespace. 
o Example Commands: 
kubectl describe quota --namespace <namespace> 
kubectl top pods --namespace <namespace> 

20. Error: Rolling update stuck or not progressing 
o Troubleshooting: 
â–ª Check rollout status using kubectl rollout status. 
â–ª Verify image versions in the deployment. 
o Example Commands: 
kubectl rollout status deployment <deployment-name> 
kubectl set image deployment/<deployment-name> <container
name>=<new-image> 

21. Error: Node draining or cordoning 
o Troubleshooting: 
â–ª Check node conditions and events. 
â–ª Use kubectl drain with caution. 
o Example Commands: 
kubectl get nodes 
kubectl describe node <node-name> 
kubectl drain <node-name> --ignore-daemonsets 

22. Error: Resource creation timeout 
o Troubleshooting: 
â–ª Check for issues with the API server. 
â–ª Verify network connectivity to the API server. 
o Example Commands: 
kubectl get events --sort-by='.metadata.creationTimestamp' 
kubectl describe pod <pod-name> 

23. Error: Pod stuck in ContainerCreating state 
o Troubleshooting: 
â–ª Check container runtime logs on the node. 
â–ª Inspect kubelet logs for errors. 
o Example Commands: 
kubectl get pods 
kubectl describe pod <pod-name> 

24. Error: Invalid YAML syntax 
o Troubleshooting: 
â–ª Validate YAML syntax using online tools or linters. 
â–ª Check for indentation and formatting issues. 
o Example Commands: 
kubectl apply -f <file.yaml> --dry-run=client 

25. Error: etcd cluster issues 
o Troubleshooting: 
â–ª Check etcd logs for errors. 
â–ª Verify etcd cluster health. 
o Example Commands: 
kubectl get events --all-namespaces --field
selector=involvedObject.kind=Pod,involvedObject.name=etcd 
kubectl exec -it etcd-pod-name --namespace kube-system -- sh 
etcdctl member list 
etcdctl cluster-health 

Remember to replace placeholders like <pod-name>, <namespace>, <deployment-name>, 
etc., with actual values specific to your environment. Additionally, exercise caution 
when using force deletion or draining nodes to avoid potential data loss or service 
disruption.


Kubernetes Commands 
Kubernetes (K8s) is a powerful container orchestration platform that helps automate 
the deployment, scaling, and management of containerized applications. Here is a list 
of 50 important Kubernetes commands along with brief explanations and examples: 

1. kubectl version 
o Display the Kubernetes client and server version. 
kubectl version 

2. kubectl cluster-info 
o Display cluster information, including the master and services. 
kubectl cluster-info 

3. kubectl get nodes 
o List all nodes in the cluster. 
kubectl get nodes 

4. kubectl get pods 
o List all pods in the default namespace. 
kubectl get pods 

5. kubectl get deployments 
o List all deployments in the default namespace. 
kubectl get deployments 

6. kubectl describe pod [pod_name] 
o Display detailed information about a specific pod. 
kubectl describe pod mypod 

7. kubectl logs [pod_name] 
o Display the logs of a specific pod. 
kubectl logs mypod 

8. kubectl exec -it [pod_name] -- /bin/sh 
o Start an interactive shell in a specific pod. 
kubectl exec -it mypod -- /bin/sh 

9. kubectl create deployment [name] --image=[image] 
o Create a deployment with a specified container image. 
kubectl create deployment myapp --image=myimage:tag 

10. kubectl expose deployment [name] --port=[port] --type=LoadBalancer 
o Expose a deployment as a service. 
kubectl expose deployment myapp --port=80 --type=LoadBalancer 

11. kubectl scale deployment [name] --replicas=[replica_count] 
o Scale the number of replicas for a deployment. 
kubectl scale deployment myapp --replicas=3 
12. kubectl get svc 
o List all services in the default namespace. 
kubectl get svc 

 13. kubectl delete pod [pod_name] 
o Delete a specific pod. 
kubectl delete pod mypod 

14. kubectl delete deployment [name] 
o Delete a deployment and its associated pods. 
kubectl delete deployment myapp 

15. kubectl apply -f [file] 
o Apply a configuration file to the cluster. 
kubectl apply -f myconfig.yaml 

16. kubectl get configmaps 
o List all ConfigMaps in the default namespace. 
kubectl get configmaps 

17. kubectl describe service [service_name] 
o Display detailed information about a specific service. 
kubectl describe service myservice 

18. kubectl get namespaces 
o List all namespaces in the cluster. 
kubectl get namespaces 

19. kubectl create namespace [namespace_name] 
o Create a new namespace. 
kubectl create namespace mynamespace 

20. kubectl get pods -n [namespace] 
o List all pods in a specific namespace. 
kubectl get pods -n mynamespace 

21. kubectl delete namespace [namespace_name] 
o Delete a namespace and all its resources. 
kubectl delete namespace mynamespace 

22. kubectl get services --sort-by=.metadata.name 
o List services and sort them by name. 
kubectl get services --sort-by=.metadata.name 

23. kubectl rollout status deployment [deployment_name] 
o Check the status of a deployment rollout. 
kubectl rollout status deployment myapp 

24. kubectl get pods --field-selector=status.phase=Running 
o List pods that are in the Running phase. 
kubectl get pods --field-selector=status.phase=Running 

25. kubectl get events --sort-by=.metadata.creationTimestamp 
o List events sorted by creation timestamp. 
kubectl get events --sort-by=.metadata.creationTimestamp 

26. kubectl create secret generic [secret_name] --from-literal=[key]=[value] 
o Create a generic secret from literal values. 
kubectl create secret generic mysecret --from-literal=username=admin -
from-literal=password=pass123 

27. kubectl get secrets 
o List all secrets in the default namespace. 
kubectl get secrets 

28. kubectl describe secret [secret_name] 
o Display detailed information about a specific secret. 
kubectl describe secret mysecret 

29. kubectl edit deployment [deployment_name] 
o Edit the YAML of a deployment interactively. 
kubectl edit deployment myapp 

30. kubectl get pods -o wide 
o List pods with additional details like node information. 
kubectl get pods -o wide 

31. kubectl get nodes -o custom
columns=NODE:.metadata.name,IP:.status.addresses[0].address 
o List nodes with custom output columns. 
kubectl get nodes -o custom
columns=NODE:.metadata.name,IP:.status.addresses[0].address 

32. kubectl top pods 
o Display resource usage (CPU and memory) of pods. 
kubectl top pods 

33. kubectl apply -f https://url-to-yaml-file 
o Apply a configuration file directly from a URL. 
kubectl apply -f https://raw.githubusercontent.com/example/myconfig.yaml 

34. kubectl get pods --selector=[label_key]=[label_value] 
o List pods with a specific label. 
kubectl get pods --selector=app=myapp 

35. kubectl get pods --field-selector=status.phase!=Running 
o List pods that are not in the Running phase. 
kubectl get pods --field-selector=status.phase!=Running 

36. kubectl rollout undo deployment [deployment_name] 
o Rollback a deployment to the previous version. 
kubectl rollout undo deployment myapp 

37. kubectl label pod [pod_name] [label_key]=[label_value] 
o Add a label to a specific pod. 
kubectl label pod mypod environment=production 

38. kubectl get componentstatuses 
o List the health of different cluster components. 
kubectl get componentstatuses 

39. kubectl describe node [node_name] 
Display detailed information about a specific node.  
kubectl describe node mynode  

40. kubectl rollout history deployment [deployment_name] 
o View the rollout history of a deployment. 
kubectl rollout history deployment myapp 

41. kubectl delete pod --selector=[label_key]=[label_value] 
o Delete pods with a specific label. 
kubectl delete pod --selector=app=myapp 

42. kubectl top nodes 
o Display resource usage (CPU and memory) of nodes. 
kubectl top nodes 

43. kubectl get pods --watch 
o Watch for changes to pods in real-time. 
kubectl get pods â€“watch 

44. kubectl rollout pause deployment [deployment_name] 
o Pause a deployment to prevent further rollouts. 
kubectl rollout pause deployment myapp 

45. kubectl rollout resume deployment [deployment_name] 
o Resume a paused deployment. 
kubectl rollout resume deployment myapp 

46. kubectl explain [resource] 
o Get information about a Kubernetes resource. 
kubectl explain pod 

47. kubectl get pods -o jsonpath='{.items[*].metadata.name}' 
o Extract specific information using JSONPath. 
kubectl get pods -o jsonpath='{.items[*].metadata.name}' 

48. kubectl apply --dry-run=client -f [file] 
o Dry run to validate a configuration file without applying it. 
kubectl apply --dry-run=client -f myconfig.yaml 

49. kubectl exec -it [pod_name] -- /bin/sh -c 'command' 
o Execute a command in a specific pod. 
kubectl exec -it mypod -- /bin/sh -c 'ls /app' 

50. kubectl get events --sort-by=.metadata.creationTimestamp -n [namespace] 
o List events sorted by creation timestamp in a specific namespace. 
kubectl get events --sort-by=.metadata.creationTimestamp -n mynamespace 

These commands cover a broad range of Kubernetes operations and are useful for 
managing and troubleshooting applications in a Kubernetes cluster. Note that some 
commands may require specific roles or permissions depending on your Kubernetes 
environment. 
